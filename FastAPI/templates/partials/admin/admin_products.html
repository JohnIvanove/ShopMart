<div class="p-5">
    <h1 class="text-2xl font-bold text-gray-900 mb-6">Products</h1>
    <div>
    <!-- Додайте цей бекдроп поруч з модаллю -->
        <div
        id="modal-backdrop"
        class="fixed inset-0 bg-black bg-opacity-50 hidden transition-opacity duration-300"
        ></div>

        <!-- Кнопка для відкриття модалки -->
        <button
        class="flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
        hx-on="click:
            document.getElementById('Add-product')
            .classList.toggle('hidden');
            document.getElementById('modal-backdrop')
            .classList.toggle('hidden');"
        >
        <i class="fa-solid fa-circle-plus mr-2"></i>
        Add Product
        </button>

        <!-- Модалка -->
        <div
        id="Add-product"
        class="fixed inset-0 flex items-center justify-center p-4 hidden transition-opacity duration-300 z-20"
        >
        <div
            class="relative bg-white rounded-xl shadow-xl w-full max-w-lg p-6 space-y-6 transform transition-transform duration-300"
        >
            <!-- Заголовок -->
            <h1 class="text-2xl font-semibold text-gray-800">Adding the Product</h1>

            <!-- Форма в grid-розкладці -->
            <div class="grid grid-cols-1 gap-4">
            <!-- Name -->
             <form
  hx-post="/admin/save/product"
  hx-trigger="submit"
  hx-on="htmx:afterRequest:
    document.getElementById('Add-product').classList.add('hidden');
    document.getElementById('modal-backdrop').classList.add('hidden');
  "
  class="space-y-4"
>
  <div>
    <label for="product-name" class="block text-sm font-medium text-gray-700 mb-1">
      Name
    </label>
    <input
      id="product-name"
      name="name"
      type="text"
      class="w-full p-2 border border-gray-300 rounded-lg shadow-sm
             focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"
      placeholder="Enter product name"
    />
  </div>

  <div>
    <label for="product-desc" class="block text-sm font-medium text-gray-700 mb-1">
      Description
    </label>
    <textarea
      id="product-desc"
      name="description"
      class="w-full p-2 border border-gray-300 rounded-lg shadow-sm
             focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"
      placeholder="Enter product description"
      rows="3"
    ></textarea>
  </div>

  <div>
    <label for="product-price" class="block text-sm font-medium text-gray-700 mb-1">
      Price
    </label>
    <input
      id="product-price"
      name="price"
      type="number"
      class="w-full p-2 border border-gray-300 rounded-lg shadow-sm
             focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"
      placeholder="Enter product price"
    />
  </div>

  <div>
    <label for="product-category" class="block text-sm font-medium text-gray-700 mb-1">
      Category
    </label>
    <select
      id="product-category"
      name="category"
      class="w-full p-2 border border-gray-300 rounded-lg shadow-sm
             focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent"
    >
      <option value="electronics">Electronics</option>
      <option value="clothing">Clothing</option>
      <option value="books">Books</option>
      <option value="home">Home & Kitchen</option>
      <option value="toys">Toys & Games</option>
    </select>
  </div>

  <div class="mt-6 flex justify-end space-x-3">
    <button
      type="button"
      class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700
             focus:outline-none focus:ring-2 focus:ring-red-400 transition"
      hx-on="click:
        document.getElementById('Add-product').classList.add('hidden');
        document.getElementById('modal-backdrop').classList.add('hidden');
      "
    >
      Close
    </button>
    <button
      type="submit"
      class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700
             focus:outline-none focus:ring-2 focus:ring-green-400 transition"
    >
      Save Product
    </button>
  </div>
</form>

        </div>
    </div>
    <div>
        {% if products %}
            {% for product in products %}
                <div class="product-item">
                    <h2>{{ product.name }}</h2>
                    <p>{{ product.description }}</p>
                    <span>${{ product.price }}</span>
                </div>
            {% endfor %}
        {% else %}
            <div class="bg-white rounded-lg shadow-sm overflow-hidden my-4">
                <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h2 class="text-lg font-medium text-gray-900">Products list</h2>
                </div>
                <div class="overflow-x-auto">
                    <table class="overflow-hidden min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Product</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Stock</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <tr class="hover:bg-gray-50">
                            <td class="text-2xl font-bold text-gray-900 p-6"><i class="fa-solid fa-square-xmark mr-2"></i>No products available</td>
                        </tr>
                    </tbody>
                    </table>
                </div>
            </div>
        {% endif %}
    </div>
</div>